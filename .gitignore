# ============================================
# 白名单模式：先全忽略，再显式放行
# ============================================

# 1. 忽略所有
*

# 2. 放行目录（Git 需要知道目录存在才能深入）
!*/

# 3. 放行根目录特定文件
!/.gitignore
!/README.md

# 4. 放行 workspace（核心工作区）
!/workspace/

# 显式忽略 data 目录（包含嵌套 Git 仓库）
/workspace/data/

# 5. 放行 cron 任务定义
!/cron/
/cron/*
!/cron/jobs.json

# 注：extensions/ 目录不包含在备份中
# 恢复时参考 README.md 手动安装

# ============================================
# workspace 内部精细控制
# ============================================

# workspace 根目录 .md 文件
!/workspace/*.md

# workspace 子目录
# /workspace/memory/ 被忽略（运行时生成的记忆文件）
!/workspace/skills/
!/workspace/skills/**/*
# /workspace/data/ 被忽略（包含独立 Git 仓库的项目）
!/workspace/max/           # 已删除原目录

# ============================================
# 排除规则（在已放行目录内再排除）
# ============================================

# 运行时/临时文件（任何位置）
**/*.tmp
**/*.log
**/.DS_Store
**/*.swp
**/*~

# workspace 内的敏感文件（如有）
/workspace/**/.env
/workspace/**/*.key
